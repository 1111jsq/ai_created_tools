## 1. 数据提取增强
- [x] 1.1 优化 `report/readers.py` 中的 `extract_summaries_from_markdown` 函数，确保能正确提取多种格式的摘要（## 标题 + ### 摘要）
- [x] 1.2 在 `read_news` 函数中，优化摘要匹配逻辑，优先使用从 markdown 提取的完整摘要
- [x] 1.3 在 `read_papers` 函数中，确保所有论文元数据（作者、机构、发布时间）被正确读取到 `PaperItem`
- [x] 1.4 添加 `extract_products_from_news` 函数到 `report/processors.py`，基于关键词库和 LLM 提取产品信息

## 2. 论文部分增强
- [x] 2.1 增强 `report/processors.py` 中的 `extract_paper_details` 函数：
  - 在 LLM 模式下，提供完整的论文元数据（作者、机构、标签、发布时间、排名）
  - 要求 LLM 提取关键贡献、创新点、应用场景（而不仅仅是核心内容）
  - 输出长度限制从130字符扩展到250字符
- [x] 2.2 修改 `report/report_writer.py` 中的论文表格生成逻辑：
  - 添加"发布时间"列（如有 published_at）
  - 添加"作者/机构"列（显示前3个作者或主要机构，如有）
  - 调整核心内容列，使用更长的描述（250字符）
- [x] 2.3 测试论文表格在不同数据情况下的显示效果（有/无作者、有/无发布时间）

## 3. 资讯部分增强
- [x] 3.1 修改 `report/report_writer.py` 中的资讯表格生成逻辑：
  - 添加"发布时间"列，显示 published_at（格式化为 YYYY-MM-DD，如无则显示 fetched_at）
  - 添加"涉及产品"列，显示从资讯中提取的产品列表（最多2个主要产品）
  - 优化摘要列，完整显示从 markdown 提取的摘要（最大500字符，而非180字符）
- [x] 3.2 在 `report/processors.py` 中实现产品提取逻辑：
  - 维护产品关键词库（OpenAI, ChatGPT, 小米, MiMo 等）
  - 对每条资讯提取涉及的产品（支持多产品）
  - 可选：对重要资讯使用 LLM 增强产品识别
- [x] 3.3 优化摘要提取和展示：
  - 优先使用从 markdown 提取的完整摘要
  - 仅在无摘要时，才生成简短描述或使用标签
  - 摘要文本长度限制从180字符扩展到500字符

## 4. 综合洞察增强
- [x] 4.1 重写 `report/insights.py` 中的 `build_llm_prompt` 函数：
  - 提供结构化的论文数据（标题、作者、机构、标签、发布时间、排名、评分）
  - 提供结构化的资讯数据（标题、发布时间、来源、产品、完整摘要、标签）
  - 提供结构化的 SDK 数据（仓库、版本、发布时间、主要变更详情）
  - 限制上下文大小（论文50篇、资讯50条、SDK 30个版本）
- [x] 4.2 更新 `generate_insights_llm` 函数：
  - 要求 LLM 生成分层趋势洞察（短期/中期/长期）
  - 要求主题聚类分析（识别跨领域主题）
  - 要求影响分析（技术/市场/产业）
  - 要求机会识别和风险评估
  - 优化系统提示词，强调深度分析和行业洞察
- [x] 4.3 测试增强后的洞察生成质量，根据输出调整提示词和参数

## 5. 测试和验证
- [x] 5.1 使用真实数据测试新报告格式，验证所有新列的显示正确性
- [x] 5.2 测试在数据缺失情况下的降级处理（无作者、无发布时间、无摘要等）
- [x] 5.3 测试 LLM 模式的洞察生成质量，确保输出符合要求
- [x] 5.4 测试无 LLM 模式下的报告生成，确保降级方案正常工作
- [x] 5.5 验证报告在不同屏幕尺寸下的可读性（表格列数增加后的显示效果）

## 6. 文档更新
- [x] 6.1 更新 `report/README.md`，说明新报告格式和增强功能
- [x] 6.2 在根 `README.md` 中添加报告增强的说明（如需要）

